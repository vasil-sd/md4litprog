<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Demo</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f0f0ff; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Demo</h1>
</header>
<h1 id="example">Example</h1>
<h2 id="about">About</h2>
<p>This is an example of literate style programmig. It has several sections, a few dedicated to modeling and one to implementation of model in C language.</p>
<h2 id="основные-абстракции">Основные абстракции</h2>
<p>Узел (Node). Это структура дважды-связанного списка с одним элементом списка.</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iOTRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjg1cHg7aGVpZ2h0Ojk0cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4NSA5NCIgd2lkdGg9Ijg1cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZndwdTBpNWF4Y3BucyIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tY2xhc3MgTm9kZS0tPjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmd3B1MGk1YXhjcG5zKSIgaGVpZ2h0PSI3NS42NTM4IiBpZD0iTm9kZSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjgiIHg9IjYiIHk9IjgiLz48ZWxsaXBzZSBjeD0iMjQuNiIgY3k9IjI0IiBmaWxsPSIjREE3MEQ2IiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTI0LjA4NDQsMjQuNTYyNSBRMjIuMjI1LDIzLjg1OTQgMjEuNTY4OCwyMy4wOTM4IFEyMC45MjgxLDIyLjMxMjUgMjAuOTI4MSwyMSBRMjAuOTI4MSwxOS4zMTI1IDIyLjAwNjMsMTguMzQzOCBRMjMuMDg0NCwxNy4zNzUgMjQuOTU5NCwxNy4zNzUgUTI1LjgxODgsMTcuMzc1IDI2LjY2MjUsMTcuNTc4MSBRMjcuNTIxOSwxNy43NjU2IDI4LjM2NTYsMTguMTU2MyBMMjguMzY1NiwyMC41NDY5IFEyNy41ODQ0LDE5Ljk4NDQgMjYuNzU2MywxOS43MDMxIFEyNS45NDM4LDE5LjQwNjMgMjUuMTQ2OSwxOS40MDYzIFEyNC4yNzE5LDE5LjQwNjMgMjMuNzg3NSwxOS43NjU2IFEyMy4zMTg4LDIwLjEyNSAyMy4zMTg4LDIwLjc4MTMgUTIzLjMxODgsMjEuMjk2OSAyMy42NjI1LDIxLjY0MDYgUTI0LjAwNjMsMjEuOTY4OCAyNS4xLDIyLjM3NSBMMjYuMTYyNSwyMi43ODEzIFEyNy42NDY5LDIzLjMyODEgMjguMzUsMjQuMjM0NCBRMjkuMDY4OCwyNS4xNDA2IDI5LjA2ODgsMjYuNTE1NiBRMjkuMDY4OCwyOC4zOTA2IDI3Ljk1OTQsMjkuMzEyNSBRMjYuODUsMzAuMjM0NCAyNC42LDMwLjIzNDQgUTIzLjY3ODEsMzAuMjM0NCAyMi43NTYzLDMwLjAxNTYgUTIxLjgzNDQsMjkuNzk2OSAyMC45NzUsMjkuMzc1IEwyMC45NzUsMjYuODQzOCBRMjEuOTQzOCwyNy41MzEzIDIyLjg2NTYsMjcuODc1IFEyMy43ODc1LDI4LjIxODggMjQuNjc4MSwyOC4yMTg4IFEyNS41ODQ0LDI4LjIxODggMjYuMDg0NCwyNy44MTI1IFEyNi41ODQ0LDI3LjM5MDYgMjYuNTg0NCwyNi42NTYzIFEyNi41ODQ0LDI2LjA5MzggMjYuMjQwNiwyNS42ODc1IFEyNS45MTI1LDI1LjI2NTYgMjUuMjg3NSwyNS4wMTU2IEwyNC4wODQ0LDI0LjU2MjUgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iU291cmNlIFNhbnMgUHJvIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjI4IiB4PSIzOS40IiB5PSIyOC4yNjYiPk5vZGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNyIgeDI9IjczIiB5MT0iNDAiIHkyPSI0MCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJTb3VyY2UgU2FucyBQcm8iIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTYiIHg9IjEyIiB5PSI1NC44MjM5Ij5uZXh0IDogTm9kZSo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlNvdXJjZSBTYW5zIFBybyIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iMTIiIHk9IjY4LjY1MDgiPnByZXYgOiBOb2RlKjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI3IiB4Mj0iNzMiIHkxPSI3NS42NTM4IiB5Mj0iNzUuNjUzOCIvPjwhLS0KQHN0YXJ0dW1sDQpza2lucGFyYW0gRGVmYXVsdEZvbnROYW1lICJTb3VyY2UgU2FucyBQcm8iDQpjbGFzcyBOb2RlIDw8IChTLCBvcmNoaWQpID4+IHsNCiAgbmV4dCA6IE5vZGUqDQogIHByZXYgOiBOb2RlKg0KfQ0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDE4LjExKFNhdCBTZXAgMjIgMTk6NDM6NTMgTVNLIDIwMTgpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBPcGVuSkRLIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBPcGVuSkRLIDY0LUJpdCBTZXJ2ZXIgVk0KSmF2YSBWZXJzaW9uOiAxMC4wLjIrMTMKT3BlcmF0aW5nIFN5c3RlbTogTGludXgKT1MgVmVyc2lvbjogNC4xOC4xMi1hcmNoMS0xLUFSQ0gKRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHJ1CkNvdW50cnk6IFJVCi0tPjwvZz48L3N2Zz4=" alt="Структура узла" /><figcaption>Структура узла</figcaption>
</figure>
<p>Описание Alloy:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">sig</span> Node <span style="color: #666666">{</span>
  prev: Node,
  next: Node
<span style="color: #666666">}</span>
</pre></div>

<p><strong>prev</strong> и <strong>next</strong> - это отношения связывающие текущий элемент с предыдущим и последующим.</p>
<p>И соответствующая С-структура:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode C"><code class="sourceCode c"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">struct</span> node {</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">  <span class="kw">struct</span> node *prev;</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">  <span class="kw">struct</span> node *next;</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">};</a></code></pre></div>
<h3 id="логические-ограничения-на-списки">Логические ограничения на списки</h3>
<h4 id="корректность">Корректность</h4>
<p>Все списки из элементов правильно связаны. То есть текущий элемент является предыдущим для следующего и наоборот. В противном случае у нас получатся деревья или графы с циклами.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">fact</span> valid <span style="color: #666666">{</span>
  <span style="color: #008000; font-weight: bold">all</span> N : Node <span style="color: #666666">|</span> <span style="color: #408080; font-style: italic">-- для всех узлов выполняется:</span>
    N<span style="color: #666666">.</span>prev<span style="color: #666666">.</span>next <span style="color: #666666">=</span> N <span style="color: #408080; font-style: italic">-- следующий у предыдущего указывает на текущий</span>
    <span style="color: #AA22FF; font-weight: bold">and</span> N<span style="color: #666666">.</span>next<span style="color: #666666">.</span>prev <span style="color: #666666">=</span> N <span style="color: #408080; font-style: italic">-- предыдущий у следующего указывает на текущий</span>
<span style="color: #666666">}</span>
</pre></div>

<p>И функция на C для проверки:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode C"><code class="sourceCode c"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="dt">int</span> valid(<span class="kw">struct</span> node* n)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">  <span class="cf">return</span> n-&gt;next &amp;&amp; n-&gt;next-&gt;prev == n &amp;&amp;</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">         n-&gt;prev &amp;&amp; n-&gt;prev-&gt;next == n;</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">}</a></code></pre></div>
<h2 id="функции-для-работы-со-списками">Функции для работы со списками</h2>
<h3 id="проверка-цикличности">Проверка цикличности</h3>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iNDIzcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoyMTFweDtoZWlnaHQ6NDIzcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyMTEgNDIzIiB3aWR0aD0iMjExcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmk0cHQyMHA5b3JzNSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48ZWxsaXBzZSBjeD0iMTA0IiBjeT0iMjAiIGZpbGw9IiMwMDAwMDAiIGZpbHRlcj0idXJsKCNmaTRwdDIwcDlvcnM1KSIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IG5vbmU7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmaTRwdDIwcDlvcnM1KSIgaGVpZ2h0PSIzNS4wODQxIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2NiIgeD0iNzEiIHk9IjUwIi8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNzYiIHgyPSI3NiIgeTE9IjUwIiB5Mj0iODUuMDg0MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEzMiIgeDI9IjEzMiIgeTE9IjUwIiB5Mj0iODUuMDg0MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJTb3VyY2UgU2FucyBQcm8iIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDIiIHg9IjgzIiB5PSI3MS44MDgxIj5uIDogTm9kZTwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmk0cHQyMHA5b3JzNSkiIGhlaWdodD0iMzUuMDg0MSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjMiIHg9IjcyLjUiIHk9IjEwNS4wODQxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlNvdXJjZSBTYW5zIFBybyIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIzOSIgeD0iODQuNSIgeT0iMTI2Ljg5MjIiPm5leHQgPSBuPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmaTRwdDIwcDlvcnM1KSIgaGVpZ2h0PSIzNS4wODQxIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMDEiIHg9IjUzLjUiIHk9IjIwNC4xNjgyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlNvdXJjZSBTYW5zIFBybyIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3OSIgeD0iNjUuNSIgeT0iMjI1Ljk3NjMiPm5leHQgPSBuZXh0Lm5leHQ8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZpNHB0MjBwOW9yczUpIiBwb2ludHM9IjEwNCwxNjAuMTY4MiwxMTYsMTcyLjE2ODIsMTA0LDE4NC4xNjgyLDkyLDE3Mi4xNjgyLDEwNCwxNjAuMTY4MiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZpNHB0MjBwOW9yczUpIiBwb2ludHM9IjQ4LDI1OS4yNTIzLDE2MCwyNTkuMjUyMywxNzIsMjcxLjI1MjMsMTYwLDI4My4yNTIzLDQ4LDI4My4yNTIzLDM2LDI3MS4yNTIzLDQ4LDI1OS4yNTIzIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iU291cmNlIFNhbnMgUHJvIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjExMiIgeD0iNDgiIHk9IjI3NS4xNjI4Ij5uZXh0ICE9IE5VTEwgJmFtcDsmYW1wOyBuZXh0ICE9IG48L3RleHQ+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZpNHB0MjBwOW9yczUpIiBwb2ludHM9Ijg0LDMwMy4yNTIzLDEyNCwzMDMuMjUyMywxMzYsMzE1LjI1MjMsMTI0LDMyNy4yNTIzLDg0LDMyNy4yNTIzLDcyLDMxNS4yNTIzLDg0LDMwMy4yNTIzIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iU291cmNlIFNhbnMgUHJvIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQwIiB4PSI4NCIgeT0iMzE5LjE2MjgiPm5leHQgPT0gbjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iU291cmNlIFNhbnMgUHJvIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEyIiB4PSI2MCIgeT0iMzEyLjI0OTMiPtC00LA8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlNvdXJjZSBTYW5zIFBybyIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNiIgeD0iMTM2IiB5PSIzMTIuMjQ5MyI+0L3QtdGCPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmaTRwdDIwcDlvcnM1KSIgaGVpZ2h0PSIzNS4wODQxIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjgzIiB4PSIxMCIgeT0iMzM3LjI1MjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iU291cmNlIFNhbnMgUHJvIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjYxIiB4PSIyMiIgeT0iMzU5LjA2MDQiPnJldHVybiBUUlVFPC90ZXh0PjxlbGxpcHNlIGN4PSI1MS41IiBjeT0iNDAyLjMzNjQiIGZpbGw9Im5vbmUiIGZpbHRlcj0idXJsKCNmaTRwdDIwcDlvcnM1KSIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxlbGxpcHNlIGN4PSI1MiIgY3k9IjQwMi44MzY0IiBmaWxsPSIjMDAwMDAwIiBmaWx0ZXI9InVybCgjZmk0cHQyMHA5b3JzNSkiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTogbm9uZTsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZpNHB0MjBwOW9yczUpIiBoZWlnaHQ9IjM1LjA4NDEiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iODciIHg9IjExMyIgeT0iMzM3LjI1MjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iU291cmNlIFNhbnMgUHJvIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY1IiB4PSIxMjUiIHk9IjM1OS4wNjA0Ij5yZXR1cm4gRkFMU0U8L3RleHQ+PGVsbGlwc2UgY3g9IjE1Ni41IiBjeT0iNDAyLjMzNjQiIGZpbGw9Im5vbmUiIGZpbHRlcj0idXJsKCNmaTRwdDIwcDlvcnM1KSIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxlbGxpcHNlIGN4PSIxNTciIGN5PSI0MDIuODM2NCIgZmlsbD0iIzAwMDAwMCIgZmlsdGVyPSJ1cmwoI2ZpNHB0MjBwOW9yczUpIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IG5vbmU7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEwNCIgeDI9IjEwNCIgeTE9IjMwIiB5Mj0iNTAiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjEwMCw0MCwxMDQsNTAsMTA4LDQwLDEwNCw0NCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTA0IiB4Mj0iMTA0IiB5MT0iODUuMDg0MSIgeTI9IjEwNS4wODQxIi8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxMDAsOTUuMDg0MSwxMDQsMTA1LjA4NDEsMTA4LDk1LjA4NDEsMTA0LDk5LjA4NDEiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEwNCIgeDI9IjEwNCIgeTE9IjE4NC4xNjgyIiB5Mj0iMjA0LjE2ODIiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjEwMCwxOTQuMTY4MiwxMDQsMjA0LjE2ODIsMTA4LDE5NC4xNjgyLDEwNCwxOTguMTY4MiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTcyIiB4Mj0iMTg0IiB5MT0iMjcxLjI1MjMiIHkyPSIyNzEuMjUyMyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTgwLDIzMS43MTAzLDE4NCwyMjEuNzEwMywxODgsMjMxLjcxMDMsMTg0LDIyNy43MTAzIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxODQiIHgyPSIxODQiIHkxPSIxNzIuMTY4MiIgeTI9IjI3MS4yNTIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTg0IiB4Mj0iMTE2IiB5MT0iMTcyLjE2ODIiIHkyPSIxNzIuMTY4MiIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTI2LDE2OC4xNjgyLDExNiwxNzIuMTY4MiwxMjYsMTc2LjE2ODIsMTIyLDE3Mi4xNjgyIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMDQiIHgyPSIxMDQiIHkxPSIyMzkuMjUyMyIgeTI9IjI1OS4yNTIzIi8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxMDAsMjQ5LjI1MjMsMTA0LDI1OS4yNTIzLDEwOCwyNDkuMjUyMywxMDQsMjUzLjI1MjMiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEwNCIgeDI9IjEwNCIgeTE9IjE0MC4xNjgyIiB5Mj0iMTYwLjE2ODIiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjEwMCwxNTAuMTY4MiwxMDQsMTYwLjE2ODIsMTA4LDE1MC4xNjgyLDEwNCwxNTQuMTY4MiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNTEuNSIgeDI9IjUxLjUiIHkxPSIzNzIuMzM2NCIgeTI9IjM5Mi4zMzY0Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0Ny41LDM4Mi4zMzY0LDUxLjUsMzkyLjMzNjQsNTUuNSwzODIuMzM2NCw1MS41LDM4Ni4zMzY0IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNTYuNSIgeDI9IjE1Ni41IiB5MT0iMzcyLjMzNjQiIHkyPSIzOTIuMzM2NCIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTUyLjUsMzgyLjMzNjQsMTU2LjUsMzkyLjMzNjQsMTYwLjUsMzgyLjMzNjQsMTU2LjUsMzg2LjMzNjQiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjcyIiB4Mj0iNTEuNSIgeTE9IjMxNS4yNTIzIiB5Mj0iMzE1LjI1MjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI1MS41IiB4Mj0iNTEuNSIgeTE9IjMxNS4yNTIzIiB5Mj0iMzM3LjI1MjMiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQ3LjUsMzI3LjI1MjMsNTEuNSwzMzcuMjUyMyw1NS41LDMyNy4yNTIzLDUxLjUsMzMxLjI1MjMiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEzNiIgeDI9IjE1Ni41IiB5MT0iMzE1LjI1MjMiIHkyPSIzMTUuMjUyMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE1Ni41IiB4Mj0iMTU2LjUiIHkxPSIzMTUuMjUyMyIgeTI9IjMzNy4yNTIzIi8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxNTIuNSwzMjcuMjUyMywxNTYuNSwzMzcuMjUyMywxNjAuNSwzMjcuMjUyMywxNTYuNSwzMzEuMjUyMyIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTA0IiB4Mj0iMTA0IiB5MT0iMjgzLjI1MjMiIHkyPSIzMDMuMjUyMyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTAwLDI5My4yNTIzLDEwNCwzMDMuMjUyMywxMDgsMjkzLjI1MjMsMTA0LDI5Ny4yNTIzIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tCkBzdGFydHVtbA0Kc2tpbnBhcmFtIERlZmF1bHRGb250TmFtZSAiU291cmNlIFNhbnMgUHJvIg0Kc3RhcnQNCjogbiA6IE5vZGUgfA0KOiBuZXh0ID0gbiBdDQpyZXBlYXQNCjogbmV4dCA9IG5leHQubmV4dF0NCnJlcGVhdCB3aGlsZSAobmV4dCAhPSBOVUxMICYmIG5leHQgIT0gbikNCmlmIChuZXh0ID09IG4pIHRoZW4gKNC00LApDQogIDogcmV0dXJuIFRSVUU7DQogIHN0b3ANCmVsc2UgKNC90LXRgikNCiAgOiByZXR1cm4gRkFMU0U7DQogIHN0b3ANCmVuZGlmDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMTguMTEoU2F0IFNlcCAyMiAxOTo0Mzo1MyBNU0sgMjAxOCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IE9wZW5KREsgUnVudGltZSBFbnZpcm9ubWVudApKVk06IE9wZW5KREsgNjQtQml0IFNlcnZlciBWTQpKYXZhIFZlcnNpb246IDEwLjAuMisxMwpPcGVyYXRpbmcgU3lzdGVtOiBMaW51eApPUyBWZXJzaW9uOiA0LjE4LjEyLWFyY2gxLTEtQVJDSApEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogcnUKQ291bnRyeTogUlUKLS0+PC9nPjwvc3ZnPg==" alt="Проверка цикличности" /><figcaption>Проверка цикличности</figcaption>
</figure>
<p>Сначала модель на <strong>Alloy</strong>:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">pred</span> is_cyclic<span style="color: #666666">[</span>n:Node<span style="color: #666666">]</span> <span style="color: #666666">{</span>
  n <span style="color: #AA22FF; font-weight: bold">in</span> n<span style="color: #666666">.^</span>Node<span style="color: #666666">.</span>next <span style="color: #408080; font-style: italic">-- ^Node.next - транзитивное замыкание</span>
                    <span style="color: #408080; font-style: italic">-- получаем отношение всех достижимых узлов</span>
                    <span style="color: #408080; font-style: italic">-- n.^Node.next - все узлы достижимые из n</span>
<span style="color: #666666">}</span>
</pre></div>

<p>Теперь код:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode C"><code class="sourceCode c"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="dt">int</span> is_cyclic(<span class="kw">struct</span> node* n)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="kw">struct</span> node* next = n;</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="cf">do</span> {</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">    next = next-&gt;next;</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  } <span class="cf">while</span> (next &amp;&amp; next != n);</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  <span class="cf">return</span> next == n;</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">}</a></code></pre></div>
</body>
</html>
